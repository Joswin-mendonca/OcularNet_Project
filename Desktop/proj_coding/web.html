<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>File Upload</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
    }
    #file-list {
      margin-top: 20px;
    }
    .file-item {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <h2>Upload Files</h2>

  <input type="file" id="fileInput" multiple />
  <button onclick="uploadFiles()">Upload</button>

  <div id="file-list"></div>

  <script>
    function uploadFiles() {
  const input = document.getElementById('fileInput');
  const files = input.files;
  const fileList = document.getElementById('file-list');
  fileList.innerHTML = '';

  if (files.length === 0) {
    fileList.innerHTML = '<p>No files selected.</p>';
    return;
  }

  for (let i = 0; i < files.length; i++) {
    const file = files[i];
    const formData = new FormData();
    formData.append('file', file);

    fetch('http://localhost:5000/upload', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      const fileItem = document.createElement('div');
      fileItem.className = 'file-item';
      fileItem.textContent = `File ${i + 1}: ${file.name} â†’ Label ID: ${data.label_id}, Confidence: ${data.confidence.toFixed(4)}`;
      fileList.appendChild(fileItem);
    })
    .catch(error => {
      console.error('Error uploading file:', error);
    });
  }
}

  </script>
</body>
</html>
